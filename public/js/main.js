// Generated by CoffeeScript 1.9.2
(function() {
  $(document).on('click', '.add', function() {
    var $backdrop, $loader, $this;
    $this = $(this);
    $loader = $('#loader');
    $backdrop = $('#backdrop');
    $loader.show();
    $backdrop.show();
    $.ajax({
      type: 'POST',
      url: '/add',
      data: {
        video_id: $(this).prev('input').val()
      },
      success: function() {
        setTimeout(function() {
          $loader.hide();
          $backdrop.hide();
          $this.children('span').removeClass('glyphicon-plus');
          return $this.children('span').addClass('glyphicon-ok');
        }, 1000);
        return $this.attr('disabled', 'disabled');
      }
    });
    return false;
  });

}).call(this);
